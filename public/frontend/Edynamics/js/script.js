
var $ = jQuery.noConflict();


// Page Loader
$(window).load(function () {

    "use strict";
    $('#loader').fadeOut();
});

$(function () {
    var path = window.location.href;
    $('.main-menu ul li a').each(function () {
        if (this.href === path) {
            $(this).addClass('active');
            $('.main-menu ul li:first-child a').removeClass('active');
        }
        var parts = this.href.split("/");
        var result = parts[parts.length - 1];
        if (result == 'index') {
            $(this).addClass('active');
        }
    });
});

(function ($) {

    $.fn.parallax = function () {
        var window_width = $(window).width();
        // Parallax Scripts
        return this.each(function (i) {
            var $this = $(this);
            $this.addClass('parallax');

            function updateParallax(initial) {
                var container_height;
                if (window_width < 601) {
                    container_height = $this.height() > 0 ? $this.height() : $this.children("img").height();
                } else {
                    container_height = $this.height() > 0 ? $this.height() : 500;
                }
                var $img = $this.children("img").first();
                var img_height = $img.height();
                var parallax_dist = img_height - container_height;
                var bottom = $this.offset().top + container_height;
                var top = $this.offset().top;
                var scrollTop = $(window).scrollTop();
                var windowHeight = window.innerHeight;
                var windowBottom = scrollTop + windowHeight;
                var percentScrolled = (windowBottom - top) / (container_height + windowHeight);
                var parallax = Math.round(parallax_dist * percentScrolled);

                if (initial) {
                    $img.css('display', 'block');
                }
                if (bottom > scrollTop && top < scrollTop + windowHeight) {
                    $img.css('transform', "translate3D(-50%," + parallax + "px, 0)");
                }
            }

            // Wait for image load
            $this.children("img").one("load", function () {
                updateParallax(true);
            }).each(function () {
                if (this.complete)
                    $(this).trigger("load");
            });

            $(window).scroll(function () {
                window_width = $(window).width();
                updateParallax(false);
            });

            $(window).resize(function () {
                window_width = $(window).width();
                updateParallax(false);
            });
        });
    };
})(jQuery);

// jQuery for page scrolling feature - requires jQuery Easing plugin
/*$(function () {
 
 "use strict";
 
 $('.detainavmain a.page-scroll').bind('click', function (event) {
 var $anchor = $(this);
 $('html, body').stop().animate({
 scrollTop: $($anchor.attr('href')).offset().top - 180
 
 }, 1000, 'easeInOutExpo');
 event.preventDefault();
 });
 });
 */
$(function () {

    "use strict";

    $('.detainavmain ul.mynav li a.page-scroll').bind('click', function (event) {
        var $anchor = $(this);
        $('html, body').stop().animate({
            scrollTop: $($anchor.attr('href')).offset().top - 168
        }, 1500, 'easeInOutExpo');
        event.preventDefault();
    });


});

// Highlight the top nav as scrolling occurs
$('body').scrollspy({
    target: '.navbar-fixed-top',
    offset: 70

});



// Closes the Responsive Menu on Menu Item Click
$('.navbar-collapse ul li a').click(function () {
    "use strict";
    $('.navbar-toggle:visible').click();
});




/*----------------------------------------------------*/
/*	Css3 Transition
 /*----------------------------------------------------*/

$('*').each(function () {
    if ($(this).attr('data-animation')) {
        var $animationName = $(this).attr('data-animation'),
                $animationDelay = "delay-" + $(this).attr('data-animation-delay');
        $(this).appear(function () {
            $(this).addClass('animated').addClass($animationName);
            $(this).addClass('animated').addClass($animationDelay);
        });
    }
});




/*--------------------------------------------------*/
/* Counter*/
/*--------------------------------------------------*/


$('.timer').countTo();

$('.counter-item').appear(function () {
    $('.timer').countTo();
}, {accY: -100});





////------- Testimonials Carousel

var testimonial = $("#testimonial-carousel");

testimonial.owlCarousel({
    navigation: true,
    pagination: true,
    slideSpeed: 2500,
    stopOnHover: true,
    autoPlay: 3000,
    singleItem: true,
    transitionStyle: "fade",
    navigationText: ['<i class="fa fa-chevron-left"></i>', '<i class="fa fa-chevron-right"></i>']
});

var testimonial = $("#pricing ");

testimonial.owlCarousel({
    navigation: true,
    pagination: true,
    slideSpeed: 2500,
    stopOnHover: true,
    autoPlay: 3000,
    items: 3,
    singleItem: false,
    transitionStyle: "fade",
    navigationText: ['<i class="fa fa-chevron-left"></i>', '<i class="fa fa-chevron-right"></i>']
});

////------- Pricing Table

$(document).ready(function () {

    $(".pricing").owlCarousel({
        pagination: true,
        navigation: true,
        slideSpeed: 2500,
        stopOnHover: true,
        autoPlay: 3000,
        singleItem: false,
        itemsMobile: [550, 1],
        itemsDesktopSmall: [991, 2],
        items: 4,
        transitionStyle: "fade",
        navigationText: ['<i class="fa fa-chevron-left"></i>', '<i class="fa fa-chevron-right"></i>']
    });


    $(".clients-say").owlCarousel({
        pagination: true,
        navigation: true,
        slideSpeed: 2500,
        stopOnHover: true,
        autoPlay: 4000,
        autoPlay: false,
        singleItem: false,
        itemsMobile: [550, 1],
        itemsDesktopSmall: [991, 2],
        items: 3,
        transitionStyle: "fade",
        navigationText: ['<i class="fa fa-chevron-left"></i>', '<i class="fa fa-chevron-right"></i>']
    });

    $(".our-team").owlCarousel({
        pagination: true,
        slideSpeed: 2500,
        slideMove: 4,
        stopOnHover: true,
        autoPlay: 3000,
        items: 4,
        //singleItem:true,
        itemsMobile: [550, 1],
        itemsDesktopSmall: [991, 2],
        transitionStyle: "fade",
        navigationText: ['<i class="fa fa-chevron-left"></i>', '<i class="fa fa-chevron-right"></i>']
    });



    $(".clientslider").owlCarousel({
        pagination: false,
        navigation: true,
        slideSpeed: 2500,
        stopOnHover: true,
        autoPlay: 3000,
        singleItem: false,
        itemsMobile: [550, 1],
        itemsDesktopSmall: [991, 2],
        items: 5,
        transitionStyle: "fade",
        navigationText: ['<i class="fa fa-chevron-left"></i>', '<i class="fa fa-chevron-right"></i>']
    });
    /*
     $(".Rongoing").owlCarousel({
     pagination: true,
     navigation: true,
     slideSpeed: 2500,
     stopOnHover: true,
     autoPlay: 3000,
     singleItem: false,
     itemsMobile: [550, 1],
     itemsDesktopSmall: [991, 2],
     items: 3,
     transitionStyle: "fade",
     navigationText: ['<i class="fa fa-chevron-left"></i>', '<i class="fa fa-chevron-right"></i>']
     });*/

});


////------- Latest News

/*$(document).ready(function() {
 
 $(".latest-news").owlCarousel({
 pagination: true,
 navigation : false,
 slideSpeed : 2500,
 stopOnHover: true,
 autoPlay: 4000,
 autoPlay: false,
 singleItem:false,
 itemsMobile : [550,1],
 itemsDesktopSmall : [991,2],
 items: 3,
 transitionStyle : "fade",
 navigationText: ['<i class="fa fa-chevron-left"></i>','<i class="fa fa-chevron-right"></i>']
 });
 
 });*/




// Team Carousel
/*
 $(document).ready(function() {
 
 
 $(".our-team").owlCarousel({
 pagination: true,
 slideSpeed: 2500,
 slideMove: 4,
 stopOnHover: true,
 autoPlay: 3000,
 items: 4,
 //singleItem:true,
 itemsMobile : [550,1],
 itemsDesktopSmall : [991,2],
 transitionStyle : "fade",
 navigationText: ['<i class="fa fa-chevron-left"></i>','<i class="fa fa-chevron-right"></i>']
 });
 });
 */


////------- Partner/CLients
/*
 $(document).ready(function() {
 
 $(".clients").owlCarousel({
 pagination: false,
 navigation : true,
 slideSpeed : 2500,
 stopOnHover: true,
 autoPlay: 3000,
 singleItem:false,
 itemsMobile : [550,1],
 itemsDesktopSmall : [991,2],
 items:5,
 transitionStyle : "fade",
 navigationText: ['<i class="fa fa-chevron-left"></i>','<i class="fa fa-chevron-right"></i>']
 });
 
 });*/




$(function () {

    $(".video").fitVids();

});





// Tab------------------------------


$('#team a').click(function (e) {
    e.preventDefault()
    $(this).tab('show')
})




/*---------------------------------------------------*/
/* Progress Bar
 /*---------------------------------------------------*/
$(document).ready(function ($) {
    "use strict";

    $('.skill-shortcode').appear(function () {
        $('.progress').each(function () {
            $('.progress-bar').css('width', function () {
                return ($(this).attr('data-percentage') + '%')
            });
        });
    }, {accY: -100});


});



$(document).ready(function () {
    var touch = $('#resp-menu');
    var menu = $('.menu');
    $(touch).on('click', function (e) {
        e.preventDefault();
        menu.toggleClass("mobilemm");
    });
    $(".closemm").on('click', function (e) {
        e.preventDefault();
        menu.toggleClass("mobilemm");
    });

    /* $(touch).on('click', function (e) {
     e.preventDefault();
     menu.slideToggle();
     });*/

    $(window).resize(function () {
        var w = $(window).width();
        if (w > 768 && menu.is(':hidden')) {
            menu.removeAttr('style');
        }
    });

});
//        $(document).ready(function () {
//            var touch = $('#resp-menu');
//            var menu = $('.menu');
//
//            $(touch).on('click', function (e) {
//                e.preventDefault();
//                menu.slideToggle();
//            });
//
//            $(window).resize(function () {
//                var w = $(window).width();
//                if (w > 767 && menu.is(':hidden')) {
//                    menu.removeAttr('style');
//                }
//            });
//
//        });

$('#interest_tabs').on('click', 'a[data-toggle="tab"]', function (e) {
    e.preventDefault();

    var $link = $(this);

    if (!$link.parent().hasClass('active')) {

        //remove active class from other tab-panes
        $('.tab-content:not(.' + $link.attr('href').replace('#', '') + ') .tab-pane').removeClass('active');

        // click first submenu tab for active section
        $('a[href="' + $link.attr('href') + '_all"][data-toggle="tab"]').click();

        // activate tab-pane for active section
        $('.tab-content.' + $link.attr('href').replace('#', '') + ' .tab-pane:first').addClass('active');
    }

});





$(document).ready(function () {

    $(".projectslider").owlCarousel({

        autoPlay: false, //Set AutoPlay to 3 seconds
        pagination: true,
        navigation: true,
        items: 3,
        itemsDesktop: [1199, 3],
        itemsDesktopSmall: [979, 3],
        transitionStyle: "fade",
        navigationText: ['<i class="fa fa-caret-left"></i>', '<i class="fa fa-caret-right"></i>']
    });


});




$(document).ready(function () {

    $(".videos").owlCarousel({
        autoPlay: false, //Set AutoPlay to 3 seconds
        pagination: false,
        navigation: true,
        items: 4,
        itemsDesktop: [1199, 3],
        itemsDesktopSmall: [979, 3],
        transitionStyle: "fade",
        navigationText: ['<i class="fa fa-caret-left"></i>', '<i class="fa fa-caret-right"></i>']
    });


});









$(document).ready(function () {

    $('.amenites , .specification ').find("*").removeAttr("style");



    $('.amenites p').each(function () {
        var $this = $(this);
        if ($this.html().replace(/\s|&nbsp;/g, '').length == 0)
            $this.remove();
    });

    $('.amenites td').each(function () {
        var $this = $(this);
        if ($this.html().replace(/\s|&nbsp;/g, '').length == 0)
            $this.remove();
    });

    $('.amenites span').each(function () {
        var $this = $(this);
        if ($this.html().replace(/\s|&nbsp;/g, '').length == 0)
            $this.remove();
    });


    $('.amenites li').each(function () {
        var $this = $(this);
        if ($this.html().replace(/\s|&nbsp;/g, '').length == 0)
            $this.remove();
    });


    $('.amenites td p').each(function () {
        var $this = $(this);
        if ($this.html().replace(/\s|&nbsp;/g, '').length == 0)
            $this.remove();
    });


    $('.amenites td p span').each(function () {
        var $this = $(this);
        if ($this.html().replace(/\s|&nbsp;/g, '').length == 0)
            $this.remove();
    });
    $('.amenites td p span b').each(function () {
        var $this = $(this);
        if ($this.html().replace(/\s|&nbsp;/g, '').length == 0)
            $this.remove();
    });
    $('.specification .full-col div').each(function () {
        $(this).removeClass('col-md-6');
        $(this).removeClass('col-lg-6');
    });

    $('.amenites table').addClass("table table-striped");
    $('.specification table').addClass("table table-striped");




    $(".awards").owlCarousel({

        autoPlay: false, //Set AutoPlay to 3 seconds
        pagination: false,
        navigation: true,
        items: 1,
        itemsDesktop: [1199, 3],
        itemsDesktopSmall: [979, 3],
        transitionStyle: "fade-in",
        navigationText: ['<i class="fa fa-caret-left"></i>', '<i class="fa fa-caret-right"></i>']
    });
    $(".testimonials").owlCarousel({

        autoPlay: false, //Set AutoPlay to 3 seconds
        pagination: false,
        navigation: true,
        items: 2,
        itemsDesktop: [1199, 3],
        itemsDesktopSmall: [979, 3],
        transitionStyle: "fade-in",
        navigationText: ['<i class="fa fa-caret-left"></i>', '<i class="fa fa-caret-right"></i>']
    });

});



$(window).load(function () {
    $("input").val("");

    $(".input-effect input").focusout(function () {
        if ($(this).val() != "") {
            $(this).addClass("has-content");
        } else {
            $(this).removeClass("has-content");
        }
    });





});


$(window).scroll(function () {
    if ($(window).scrollTop() >= 300) {
        $('.detainavmain').addClass('fixed');

    } else {
        $('.detainavmain').removeClass('fixed');


    }
});



$(document).ready(function () {


    $(".read-more").click(function () {
        var $elem = $(this).parent().find(".text");
        if ($elem.hasClass("short"))
        {
            $elem.removeClass("short").addClass("full");
        } else
        {
            $elem.removeClass("full").addClass("short");
        }
    });




    var removeClass = true;
    $(".clickme").click(function () {
        $(".toggletag").toggleClass('open');
        $(".formcallback").toggleClass('open');
        $(".overlay").toggleClass('show');
        removeClass = false;
    });

    $(".formcallback").click(function () {
        removeClass = false;
    });

    $(".overlay").click(function () {
        if (removeClass) {
            $(".toggletag").removeClass('open');
            $(".formcallback").removeClass('open');
        }
        $(".overlay").removeClass('show');
        $(".toggletag").removeClass('open');
        $(".formcallback").removeClass('open');
        removeClass = false;
    });

});


//$('.lightbox').littleLightBox();

jQuery(document).ready(function ($) {

    $('.lightbox_trigger').click(function (e) {

        //prevent default action (hyperlink)
        e.preventDefault();

        //Get clicked link href
        var image_href = $(this).attr("href");

        /* 	
         If the lightbox window HTML already exists in document, 
         change the img src to to match the href of whatever link was clicked
         
         If the lightbox window HTML doesn't exists, create it and insert it.
         (This will only happen the first time around)
         */

        if ($('#lightbox').length > 0) { // #lightbox exists

            //place href as img src value
            $('#content').html('<img src="' + image_href + '" />');

            //show lightbox window - you could use .show('fast') for a transition
            $('#lightbox').show();
        } else { //#lightbox does not exist - create and insert (runs 1st time only)

            //create HTML markup for lightbox window
            var lightbox =
                    '<div id="lightbox">' +
                    '<p>Click to close</p>' +
                    '<div id="content">' + //insert clicked link's href into img src
                    '<img src="' + image_href + '" />' +
                    '</div>' +
                    '</div>';

            //insert lightbox HTML into page
            $('body').append(lightbox);
        }

    });

    //Click anywhere on the page to get rid of lightbox window
    //$('#lightbox').live('click', function() { //must use live, as the lightbox element is inserted into the DOM
//		$('#lightbox').hide();
//	});

});

wow = new WOW(
        {
            boxClass: 'wow', // default
            animateClass: 'animated', // default
            offset: 0, // default
            mobile: true, // default
            live: true        // default
        }
)
wow.init();



(function () {
    var Util,
            __bind = function (fn, me) {
                return function () {
                    return fn.apply(me, arguments);
                };
            };

    Util = (function () {
        function Util() {}

        Util.prototype.extend = function (custom, defaults) {
            var key, value;
            for (key in custom) {
                value = custom[key];
                if (value != null) {
                    defaults[key] = value;
                }
            }
            return defaults;
        };

        Util.prototype.isMobile = function (agent) {
            return /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(agent);
        };

        return Util;

    })();

    this.WOW = (function () {
        WOW.prototype.defaults = {
            boxClass: 'wow',
            animateClass: 'animated',
            offset: 0,
            mobile: true
        };

        function WOW(options) {
            if (options == null) {
                options = {};
            }
            this.scrollCallback = __bind(this.scrollCallback, this);
            this.scrollHandler = __bind(this.scrollHandler, this);
            this.start = __bind(this.start, this);
            this.scrolled = true;
            this.config = this.util().extend(options, this.defaults);
        }

        WOW.prototype.init = function () {
            var _ref;
            this.element = window.document.documentElement;
            if ((_ref = document.readyState) === "interactive" || _ref === "complete") {
                return this.start();
            } else {
                return document.addEventListener('DOMContentLoaded', this.start);
            }
        };

        WOW.prototype.start = function () {
            var box, _i, _len, _ref;
            this.boxes = this.element.getElementsByClassName(this.config.boxClass);
            if (this.boxes.length) {
                if (this.disabled()) {
                    return this.resetStyle();
                } else {
                    _ref = this.boxes;
                    for (_i = 0, _len = _ref.length; _i < _len; _i++) {
                        box = _ref[_i];
                        this.applyStyle(box, true);
                    }
                    window.addEventListener('scroll', this.scrollHandler, false);
                    window.addEventListener('resize', this.scrollHandler, false);
                    return this.interval = setInterval(this.scrollCallback, 50);
                }
            }
        };

        WOW.prototype.stop = function () {
            window.removeEventListener('scroll', this.scrollHandler, false);
            window.removeEventListener('resize', this.scrollHandler, false);
            if (this.interval != null) {
                return clearInterval(this.interval);
            }
        };

        WOW.prototype.show = function (box) {
            this.applyStyle(box);
            return box.className = "" + box.className + " " + this.config.animateClass;
        };

        WOW.prototype.applyStyle = function (box, hidden) {
            var delay, duration, iteration;
            duration = box.getAttribute('data-wow-duration');
            delay = box.getAttribute('data-wow-delay');
            iteration = box.getAttribute('data-wow-iteration');
            return box.setAttribute('style', this.customStyle(hidden, duration, delay, iteration));
        };

        WOW.prototype.resetStyle = function () {
            var box, _i, _len, _ref, _results;
            _ref = this.boxes;
            _results = [];
            for (_i = 0, _len = _ref.length; _i < _len; _i++) {
                box = _ref[_i];
                _results.push(box.setAttribute('style', 'visibility: visible;'));
            }
            return _results;
        };

        WOW.prototype.customStyle = function (hidden, duration, delay, iteration) {
            var style;
            style = hidden ? "visibility: hidden; -webkit-animation-name: none; -moz-animation-name: none; animation-name: none;" : "visibility: visible;";
            if (duration) {
                style += "-webkit-animation-duration: " + duration + "; -moz-animation-duration: " + duration + "; animation-duration: " + duration + ";";
            }
            if (delay) {
                style += "-webkit-animation-delay: " + delay + "; -moz-animation-delay: " + delay + "; animation-delay: " + delay + ";";
            }
            if (iteration) {
                style += "-webkit-animation-iteration-count: " + iteration + "; -moz-animation-iteration-count: " + iteration + "; animation-iteration-count: " + iteration + ";";
            }
            return style;
        };

        WOW.prototype.scrollHandler = function () {
            return this.scrolled = true;
        };

        WOW.prototype.scrollCallback = function () {
            var box;
            if (this.scrolled) {
                this.scrolled = false;
                this.boxes = (function () {
                    var _i, _len, _ref, _results;
                    _ref = this.boxes;
                    _results = [];
                    for (_i = 0, _len = _ref.length; _i < _len; _i++) {
                        box = _ref[_i];
                        if (!(box)) {
                            continue;
                        }
                        if (this.isVisible(box)) {
                            this.show(box);
                            continue;
                        }
                        _results.push(box);
                    }
                    return _results;
                }).call(this);
                if (!this.boxes.length) {
                    return this.stop();
                }
            }
        };

        WOW.prototype.offsetTop = function (element) {
            var top;
            top = element.offsetTop;
            while (element = element.offsetParent) {
                top += element.offsetTop;
            }
            return top;
        };

        WOW.prototype.isVisible = function (box) {
            var bottom, offset, top, viewBottom, viewTop;
            offset = box.getAttribute('data-wow-offset') || this.config.offset;
            viewTop = window.pageYOffset;
            viewBottom = viewTop + this.element.clientHeight - offset;
            top = this.offsetTop(box);
            bottom = top + box.clientHeight;
            return top <= viewBottom && bottom >= viewTop;
        };

        WOW.prototype.util = function () {
            return this._util || (this._util = new Util());
        };

        WOW.prototype.disabled = function () {
            return !this.config.mobile && this.util().isMobile(navigator.userAgent);
        };

        return WOW;

    })();

}).call(this);


wow = new WOW(
        {
            animateClass: 'animated',
            offset: 100
        }
);
wow.init();

$(document).ready(function () {
    $('.toggle-nav').click(function (e) {
        $(this).toggleClass('openmm');
        $('.menunew ul').toggleClass('openmm');

        e.preventDefault();
    });
    $('.menunew ul li a').click(function (e) {
        $(this).toggleClass('openmm');
        $('.menunew ul').toggleClass('openmm');

        e.preventDefault();
    });





    // Configure/customize these variables.
    var showChar = 100;  // How many characters are shown by default
    var ellipsestext = "...";
    var moretext = "more>";
    var lesstext = "less";


    $('.more').each(function () {
        var content = $(this).html();

        if (content.length > showChar) {

            var c = content.substr(0, showChar);
            var h = content.substr(showChar, content.length - showChar);

            var html = c + '<span class="moreellipses">' + ellipsestext + '&nbsp;</span><span class="morecontent"><span>' + h + '</span>&nbsp;&nbsp;<a href="" class="morelink">' + moretext + '</a></span>';

            $(this).html(html);
        }

    });

    $(".morelink").click(function () {
        if ($(this).hasClass("less")) {
            $(this).removeClass("less");
            $(this).html(moretext);
        } else {
            $(this).addClass("less");
            $(this).html(lesstext);
        }
        $(this).parent().prev().toggle();
        $(this).prev().toggle();
        return false;
    });
});

$(window).scroll(function () {
    'use strict';
    if ($(this).scrollTop() > 1) {
        $('header').addClass("sticky");
    } else {
        $('header').removeClass("sticky");
    }
});
/* ==============================================
 Menu
 =============================================== */
$('a.open_close').on("click", function () {
    $('.main-menu').toggleClass('show');
    $('.layer').toggleClass('layer-is-visible');
});
$('a.show-submenu').on("click", function () {
    $(this).next().toggleClass("show_normal");
});
$('a.show-submenu-mega').on("click", function () {
    $(this).next().toggleClass("show_mega");
});
if ($(window).width() <= 768) {
    $('a.cmn-toggle-switch').on("click", function () {
        $('.cmn-toggle-switch').removeClass('active')
    });
}

$(window).bind('resize load', function () {
    if ($(this).width() < 991)
    {
        $('.collapse#collapseFilters').removeClass('in');
        $('.collapse#collapseFilters').addClass('out');
    } else
    {
        $('.collapse#collapseFilters').removeClass('out');
        $('.collapse#collapseFilters').addClass('in');
    }
});
$('.parallax').parallax();














(function ($) {
    $.fn.collapsible = function (options, methodParam) {
        var defaults = {
            accordion: undefined,
            onOpen: undefined,
            onClose: undefined
        };

        var methodName = options;
        options = $.extend(defaults, options);

        return this.each(function () {

            var $this = $(this);

            var $panel_headers = $(this).find('> li > .collapsible-header');

            var collapsible_type = $this.data("collapsible");

            /****************
             Helper Functions
             ****************/

            // Accordion Open
            function accordionOpen(object) {
                $panel_headers = $this.find('> li > .collapsible-header');
                if (object.hasClass('active')) {
                    object.parent().addClass('active');
                } else {
                    object.parent().removeClass('active');
                }
                if (object.parent().hasClass('active')) {
                    object.siblings('.collapsible-body').stop(true, false).slideDown({duration: 350, easing: "easeOutQuart", queue: false, complete: function () {
                            $(this).css('height', '');
                        }});
                } else {
                    object.siblings('.collapsible-body').stop(true, false).slideUp({duration: 350, easing: "easeOutQuart", queue: false, complete: function () {
                            $(this).css('height', '');
                        }});
                }

                $panel_headers.not(object).removeClass('active').parent().removeClass('active');

                // Close previously open accordion elements.
                $panel_headers.not(object).parent().children('.collapsible-body').stop(true, false).each(function () {
                    if ($(this).is(':visible')) {
                        $(this).slideUp({
                            duration: 350,
                            easing: "easeOutQuart",
                            queue: false,
                            complete: function () {
                                $(this).css('height', '');
                                execCallbacks($(this).siblings('.collapsible-header'));
                            }
                        });
                    }
                });
            }

            // Expandable Open
            function expandableOpen(object) {
                if (object.hasClass('active')) {
                    object.parent().addClass('active');
                } else {
                    object.parent().removeClass('active');
                }
                if (object.parent().hasClass('active')) {
                    object.siblings('.collapsible-body').stop(true, false).slideDown({duration: 350, easing: "easeOutQuart", queue: false, complete: function () {
                            $(this).css('height', '');
                        }});
                } else {
                    object.siblings('.collapsible-body').stop(true, false).slideUp({duration: 350, easing: "easeOutQuart", queue: false, complete: function () {
                            $(this).css('height', '');
                        }});
                }
            }

            // Open collapsible. object: .collapsible-header
            function collapsibleOpen(object, noToggle) {
                if (!noToggle) {
                    object.toggleClass('active');
                }

                if (options.accordion || collapsible_type === "accordion" || collapsible_type === undefined) {
                    // Handle Accordion
                    accordionOpen(object);
                } else {
                    // Handle Expandables
                    expandableOpen(object);
                }

                execCallbacks(object);
            }

            // Handle callbacks
            function execCallbacks(object) {
                if (object.hasClass('active')) {
                    if (typeof options.onOpen === "function") {
                        options.onOpen.call(this, object.parent());
                    }
                } else {
                    if (typeof options.onClose === "function") {
                        options.onClose.call(this, object.parent());
                    }
                }
            }

            /**
             * Check if object is children of panel header
             * @param  {Object}  object Jquery object
             * @return {Boolean} true if it is children
             */
            function isChildrenOfPanelHeader(object) {

                var panelHeader = getPanelHeader(object);

                return panelHeader.length > 0;
            }

            /**
             * Get panel header from a children element
             * @param  {Object} object Jquery object
             * @return {Object} panel header object
             */
            function getPanelHeader(object) {

                return object.closest('li > .collapsible-header');
            }

            // Turn off any existing event handlers
            function removeEventHandlers() {
                $this.off('click.collapse', '> li > .collapsible-header');
            }

            /*****  End Helper Functions  *****/

            // Methods
            if (methodName === 'destroy') {
                removeEventHandlers();
                return;
            } else if (methodParam >= 0 && methodParam < $panel_headers.length) {
                var $curr_header = $panel_headers.eq(methodParam);
                if ($curr_header.length && (methodName === 'open' || methodName === 'close' && $curr_header.hasClass('active'))) {
                    collapsibleOpen($curr_header);
                }
                return;
            }

            removeEventHandlers();

            // Add click handler to only direct collapsible header children
            $this.on('click.collapse', '> li > .collapsible-header', function (e) {
                var element = $(e.target);

                if (isChildrenOfPanelHeader(element)) {
                    element = getPanelHeader(element);
                }

                collapsibleOpen(element);
            });

            // Open first active
            if (options.accordion || collapsible_type === "accordion" || collapsible_type === undefined) {
                // Handle Accordion
                collapsibleOpen($panel_headers.filter('.active').first(), true);
            } else {
                // Handle Expandables
                $panel_headers.filter('.active').each(function () {
                    collapsibleOpen($(this), true);
                });
            }
        });
    };

    $(document).ready(function () {
        $('.collapsible').collapsible();
    });
})(jQuery);
;
(function ($) {

    // Add posibility to scroll to selected option
    // usefull for select for example
    $.fn.scrollTo = function (elem) {
        $(this).scrollTop($(this).scrollTop() - $(this).offset().top + $(elem).offset().top);
        return this;
    };

    $.fn.dropdown = function (options) {
        var defaults = {
            inDuration: 300,
            outDuration: 225,
            constrainWidth: true, // Constrains width of dropdown to the activator
            hover: false,
            gutter: 0, // Spacing from edge
            belowOrigin: false,
            alignment: 'left',
            stopPropagation: false
        };

        // Open dropdown.
        if (options === "open") {
            this.each(function () {
                $(this).trigger('open');
            });
            return false;
        }

        // Close dropdown.
        if (options === "close") {
            this.each(function () {
                $(this).trigger('close');
            });
            return false;
        }

        this.each(function () {
            var origin = $(this);
            var curr_options = $.extend({}, defaults, options);
            var isFocused = false;

            // Dropdown menu
            var activates = $("#" + origin.attr('data-activates'));

            function updateOptions() {
                if (origin.data('induration') !== undefined)
                    curr_options.inDuration = origin.data('induration');
                if (origin.data('outduration') !== undefined)
                    curr_options.outDuration = origin.data('outduration');
                if (origin.data('constrainwidth') !== undefined)
                    curr_options.constrainWidth = origin.data('constrainwidth');
                if (origin.data('hover') !== undefined)
                    curr_options.hover = origin.data('hover');
                if (origin.data('gutter') !== undefined)
                    curr_options.gutter = origin.data('gutter');
                if (origin.data('beloworigin') !== undefined)
                    curr_options.belowOrigin = origin.data('beloworigin');
                if (origin.data('alignment') !== undefined)
                    curr_options.alignment = origin.data('alignment');
                if (origin.data('stoppropagation') !== undefined)
                    curr_options.stopPropagation = origin.data('stoppropagation');
            }

            updateOptions();

            // Attach dropdown to its activator
            origin.after(activates);

            /*
             Helper function to position and resize dropdown.
             Used in hover and click handler.
             */
            function placeDropdown(eventType) {
                // Check for simultaneous focus and click events.
                if (eventType === 'focus') {
                    isFocused = true;
                }

                // Check html data attributes
                updateOptions();

                // Set Dropdown state
                activates.addClass('active');
                origin.addClass('active');

                var originWidth = origin[0].getBoundingClientRect().width;

                // Constrain width
                if (curr_options.constrainWidth === true) {
                    activates.css('width', originWidth);
                } else {
                    activates.css('white-space', 'nowrap');
                }

                // Offscreen detection
                var windowHeight = window.innerHeight;
                var originHeight = origin.innerHeight();
                var offsetLeft = origin.offset().left;
                var offsetTop = origin.offset().top - $(window).scrollTop();
                var currAlignment = curr_options.alignment;
                var gutterSpacing = 0;
                var leftPosition = 0;

                // Below Origin
                var verticalOffset = 0;
                if (curr_options.belowOrigin === true) {
                    verticalOffset = originHeight;
                }

                // Check for scrolling positioned container.
                var scrollYOffset = 0;
                var scrollXOffset = 0;
                var wrapper = origin.parent();
                if (!wrapper.is('body')) {
                    if (wrapper[0].scrollHeight > wrapper[0].clientHeight) {
                        scrollYOffset = wrapper[0].scrollTop;
                    }
                    if (wrapper[0].scrollWidth > wrapper[0].clientWidth) {
                        scrollXOffset = wrapper[0].scrollLeft;
                    }
                }

                if (offsetLeft + activates.innerWidth() > $(window).width()) {
                    // Dropdown goes past screen on right, force right alignment
                    currAlignment = 'right';
                } else if (offsetLeft - activates.innerWidth() + origin.innerWidth() < 0) {
                    // Dropdown goes past screen on left, force left alignment
                    currAlignment = 'left';
                }
                // Vertical bottom offscreen detection
                if (offsetTop + activates.innerHeight() > windowHeight) {
                    // If going upwards still goes offscreen, just crop height of dropdown.
                    if (offsetTop + originHeight - activates.innerHeight() < 0) {
                        var adjustedHeight = windowHeight - offsetTop - verticalOffset;
                        activates.css('max-height', adjustedHeight);
                    } else {
                        // Flow upwards.
                        if (!verticalOffset) {
                            verticalOffset += originHeight;
                        }
                        verticalOffset -= activates.innerHeight();
                    }
                }

                // Handle edge alignment
                if (currAlignment === 'left') {
                    gutterSpacing = curr_options.gutter;
                    leftPosition = origin.position().left + gutterSpacing;
                } else if (currAlignment === 'right') {
                    // Material icons fix
                    activates.stop(true, true).css({
                        opacity: 0,
                        left: 0
                    });

                    var offsetRight = origin.position().left + originWidth - activates.width();
                    gutterSpacing = -curr_options.gutter;
                    leftPosition = offsetRight + gutterSpacing;
                }

                // Position dropdown
                activates.css({
                    position: 'absolute',
                    top: origin.position().top + verticalOffset + scrollYOffset,
                    left: leftPosition + scrollXOffset
                });

                // Show dropdown
                activates.slideDown({
                    queue: false,
                    duration: curr_options.inDuration,
                    easing: 'easeOutCubic',
                    complete: function () {
                        $(this).css('height', '');
                    }
                }).animate({opacity: 1}, {queue: false, duration: curr_options.inDuration, easing: 'easeOutSine'});

                // Add click close handler to document
                setTimeout(function () {
                    $(document).on('click.' + activates.attr('id'), function (e) {
                        hideDropdown();
                        $(document).off('click.' + activates.attr('id'));
                    });
                }, 0);
            }

            function hideDropdown() {
                // Check for simultaneous focus and click events.
                isFocused = false;
                activates.fadeOut(curr_options.outDuration);
                activates.removeClass('active');
                origin.removeClass('active');
                $(document).off('click.' + activates.attr('id'));
                setTimeout(function () {
                    activates.css('max-height', '');
                }, curr_options.outDuration);
            }

            // Hover
            if (curr_options.hover) {
                var open = false;
                origin.off('click.' + origin.attr('id'));
                // Hover handler to show dropdown
                origin.on('mouseenter', function (e) {
                    // Mouse over
                    if (open === false) {
                        placeDropdown();
                        open = true;
                    }
                });
                origin.on('mouseleave', function (e) {
                    // If hover on origin then to something other than dropdown content, then close
                    var toEl = e.toElement || e.relatedTarget; // added browser compatibility for target element
                    if (!$(toEl).closest('.dropdown-content').is(activates)) {
                        activates.stop(true, true);
                        hideDropdown();
                        open = false;
                    }
                });

                activates.on('mouseleave', function (e) {
                    // Mouse out
                    var toEl = e.toElement || e.relatedTarget;
                    if (!$(toEl).closest('.dropdown-button').is(origin)) {
                        activates.stop(true, true);
                        hideDropdown();
                        open = false;
                    }
                });

                // Click
            } else {
                // Click handler to show dropdown
                origin.off('click.' + origin.attr('id'));
                origin.on('click.' + origin.attr('id'), function (e) {
                    if (!isFocused) {
                        if (origin[0] == e.currentTarget && !origin.hasClass('active') && $(e.target).closest('.dropdown-content').length === 0) {
                            e.preventDefault(); // Prevents button click from moving window
                            if (curr_options.stopPropagation) {
                                e.stopPropagation();
                            }
                            placeDropdown('click');
                        }
                        // If origin is clicked and menu is open, close menu
                        else if (origin.hasClass('active')) {
                            hideDropdown();
                            $(document).off('click.' + activates.attr('id'));
                        }
                    }
                });
            } // End else

            // Listen to open and close event - useful for select component
            origin.on('open', function (e, eventType) {
                placeDropdown(eventType);
            });
            origin.on('close', hideDropdown);
        });
    }; // End dropdown plugin

    $(document).ready(function () {
        $('.dropdown-button').dropdown();

        $("#recentItem").click(function () {
            $(".recentItem").animate({
                right: '0'
            });
            $(".overlay").addClass("show");

        });

        $(".closX").click(function () {
            $(".recentItem").animate({
                right: '-300px'
            });
            $(".overlay").removeClass("show");
        });

        $(".overlay").click(function () {
            $(".recentItem").animate({
                right: '-300px'
            });
            $(".overlay").removeClass("show");
        });

    });
})(jQuery);



